# OTLP_go ä»£ç ç¤ºä¾‹

> **ç‰ˆæœ¬**: v2.0  
> **æœ€åæ›´æ–°**: 2025-10-08  
> **Go ç‰ˆæœ¬**: 1.25.1+

æœ¬ç›®å½•åŒ…å« OTLP_go é¡¹ç›®çš„å®Œæ•´ä»£ç ç¤ºä¾‹ï¼Œæ¶µç›–ä»åŸºç¡€åˆ°é«˜çº§çš„å„ç§ä½¿ç”¨åœºæ™¯ã€‚

---

## ğŸ“š ç¤ºä¾‹ç›®å½•

### ğŸ†• Go 1.25.1 æ–°ç‰¹æ€§ (NEW)

1. **[go125-features](./go125-features/)** - Go 1.25.1 æ–°ç‰¹æ€§å®Œæ•´ç¤ºä¾‹
   - æ³›å‹ Tracer åŒ…è£…å™¨
   - Context å¢å¼º (WithoutCancel, WithDeadlineCause, AfterFunc)
   - æ–°å¹¶å‘åŸè¯­ (sync.OnceFunc, sync.OnceValue, sync.OnceValues)
   - errors.Join å¤šé”™è¯¯åˆå¹¶
   - æ³›å‹ Exporter è®¾è®¡
   - **éš¾åº¦**: â­â­â­â­
   - **ä»£ç ç¤ºä¾‹**: 50+

### ğŸ†• é”™è¯¯å¤„ç†è¿›é˜¶ (NEW)

1. **[error-handling](./error-handling/)** - é”™è¯¯å¤„ç†ä¸ OTLP é›†æˆ
   - è‡ªå®šä¹‰é”™è¯¯ç±»å‹ (TracedError)
   - errors.Join å¤šé”™è¯¯æ”¶é›†
   - é”™è¯¯é“¾åˆ†æ
   - é‡è¯•æœºåˆ¶ä¸æŒ‡æ•°é€€é¿
   - Panic æ¢å¤ä¸è¿½è¸ª
   - é”™è¯¯åˆ†ç±»ä¸ç»“æ„åŒ–
   - **éš¾åº¦**: â­â­â­
   - **ä»£ç ç¤ºä¾‹**: 40+

### ğŸ†• å†…å­˜ä¼˜åŒ– (NEW)

1. **[memory-optimization](./memory-optimization/)** - å†…å­˜ç®¡ç†ä¸æ€§èƒ½ä¼˜åŒ–
   - sync.Pool å¯¹è±¡æ± 
   - å†…å­˜é¢„åˆ†é…ä¸å¤ç”¨
   - é›¶åˆ†é…æŠ€æœ¯
   - æ‰¹å¤„ç†ä¼˜åŒ–
   - GC ç›‘æ§ä¸è°ƒä¼˜
   - **éš¾åº¦**: â­â­â­â­
   - **ä»£ç ç¤ºä¾‹**: 45+
   - **æ€§èƒ½æå‡**: 60-80% å¼€é”€é™ä½

### ğŸ†• è‡ªå®šä¹‰ç»„ä»¶ (NEW)

1. **[custom-components](./custom-components/)** - è‡ªå®šä¹‰ OTLP ç»„ä»¶
   - è‡ªå®šä¹‰ FileExporter
   - FilterProcessor (è¿‡æ»¤å¤„ç†å™¨)
   - SanitizeProcessor (æ•°æ®è„±æ•)
   - DynamicSampler (åŠ¨æ€é‡‡æ ·)
   - RuleBasedSampler (è§„åˆ™é‡‡æ ·)
   - **éš¾åº¦**: â­â­â­â­
   - **ä»£ç ç¤ºä¾‹**: 550+ è¡Œ

### ğŸ†• æ€§èƒ½è°ƒä¼˜ (NEW)

1. **[performance-tuning](./performance-tuning/)** - æ€§èƒ½è°ƒä¼˜ä¸ä¼˜åŒ–
   - é«˜æ€§èƒ½ Span æ± 
   - æ‰¹é‡å¯¼å‡ºä¼˜åŒ–
   - æ— é”è®¡æ•°å™¨
   - Worker æ± å¹¶è¡Œå¤„ç†
   - å±æ€§ç¼“å­˜
   - é›¶åˆ†é…æŠ€æœ¯
   - **éš¾åº¦**: â­â­â­â­
   - **ä»£ç ç¤ºä¾‹**: 480+ è¡Œ
   - **æ€§èƒ½æå‡**: 2-10x ååé‡

### åŸºç¡€ç¤ºä¾‹

1. **[basic](./basic/)** - åŸºç¡€è¿½è¸ªç¤ºä¾‹
   - æœ€ç®€å•çš„ OTLP è¿½è¸ªå®ç°
   - é€‚åˆåˆå­¦è€…å¿«é€Ÿä¸Šæ‰‹
   - **éš¾åº¦**: â­

2. **[context-propagation](./context-propagation/)** - ä¸Šä¸‹æ–‡ä¼ æ’­
   - Context åœ¨æœåŠ¡é—´çš„ä¼ æ’­
   - W3C Trace Context å®ç°
   - **éš¾åº¦**: â­â­

3. **[custom-sampler](./custom-sampler/)** - è‡ªå®šä¹‰é‡‡æ ·å™¨
   - å®ç°è‡ªå®šä¹‰é‡‡æ ·ç­–ç•¥
   - åŠ¨æ€é‡‡æ ·ç‡è°ƒæ•´
   - **éš¾åº¦**: â­â­â­

4. **[batch-export](./batch-export/)** - æ‰¹é‡å¯¼å‡º
   - æ‰¹é‡å¤„ç†ä¼˜åŒ–
   - æ€§èƒ½è°ƒä¼˜
   - **éš¾åº¦**: â­â­

5. **[metrics](./metrics/)** - æŒ‡æ ‡æ”¶é›†
   - Counterã€Gaugeã€Histogram
   - æŒ‡æ ‡å¯¼å‡ºå’Œå¯è§†åŒ–
   - **éš¾åº¦**: â­â­

### é«˜çº§ç¤ºä¾‹

1. **[distributed-tracing](./distributed-tracing/)** - åˆ†å¸ƒå¼è¿½è¸ª
   - å®Œæ•´çš„åˆ†å¸ƒå¼è¿½è¸ªç¤ºä¾‹
   - è·¨æœåŠ¡è¿½è¸ª
   - **éš¾åº¦**: â­â­â­

2. **[microservices](./microservices/)** - å¾®æœåŠ¡é›†æˆ
    - Service A: è®¢å•æœåŠ¡
    - Service B: æ”¯ä»˜æœåŠ¡
    - å®Œæ•´çš„å¾®æœåŠ¡é€šä¿¡ç¤ºä¾‹
    - **éš¾åº¦**: â­â­â­â­

### æ€§èƒ½ä¼˜åŒ–

1. **[performance/span-pool](./performance/span-pool/)** - Span æ± åŒ–
    - é›¶åˆ†é…ä¼˜åŒ–
    - æ€§èƒ½åŸºå‡†æµ‹è¯•
    - **éš¾åº¦**: â­â­â­

2. **[performance/zero-alloc](./performance/zero-alloc/)** - é›¶åˆ†é…ä¼˜åŒ–
    - å†…å­˜ä¼˜åŒ–æŠ€æœ¯
    - GC å‹åŠ›é™ä½
    - **éš¾åº¦**: â­â­â­â­

### å¼¹æ€§æ¨¡å¼

1. **[resilience/circuit-breaker](./resilience/circuit-breaker/)** - ç†”æ–­å™¨
    - ç†”æ–­å™¨æ¨¡å¼å®ç°
    - æ•…éšœéš”ç¦»
    - **éš¾åº¦**: â­â­â­

2. **[resilience/retry](./resilience/retry/)** - é‡è¯•æœºåˆ¶
    - æŒ‡æ•°é€€é¿é‡è¯•
    - é”™è¯¯å¤„ç†
    - **éš¾åº¦**: â­â­â­

### è‡ªå®šä¹‰æ‰©å±•

1. **[custom-processor](./custom-processor/)** - è‡ªå®šä¹‰å¤„ç†å™¨
    - å®ç°è‡ªå®šä¹‰ SpanProcessor
    - æ•°æ®å¤„ç†å’Œè¿‡æ»¤
    - **éš¾åº¦**: â­â­â­â­

### åŸºå‡†æµ‹è¯•

1. **[benchmarks](../benchmarks/)** - æ€§èƒ½åŸºå‡†æµ‹è¯•
    - Span åˆ›å»ºæ€§èƒ½æµ‹è¯•
    - å¯¼å‡ºæ€§èƒ½æµ‹è¯•
    - **éš¾åº¦**: â­â­â­

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

- Go 1.25.1 æˆ–æ›´é«˜ç‰ˆæœ¬
- Docker (å¯é€‰ï¼Œç”¨äºè¿è¡Œ Collector)

### è¿è¡Œç¤ºä¾‹

```bash
# 1. å¯åŠ¨ OTLP Collector
docker run -d --name otel-collector \
  -p 4317:4317 \
  -p 4318:4318 \
  otel/opentelemetry-collector-contrib:latest

# 2. è¿è¡ŒåŸºç¡€ç¤ºä¾‹
cd examples/basic
go run main.go

# 3. æŸ¥çœ‹è¿½è¸ªæ•°æ®
# è®¿é—® Jaeger UI: http://localhost:16686
```

### è¿è¡Œæ‰€æœ‰ç¤ºä¾‹

```bash
# è¿è¡Œæ‰€æœ‰ç¤ºä¾‹
for dir in examples/*/; do
  echo "Running $dir"
  cd "$dir"
  go run main.go
  cd ../..
done
```

---

## ğŸ“– å­¦ä¹ è·¯å¾„

### ğŸŸ¢ åˆå­¦è€… (1-2 å¤©)

é€‚åˆåˆšæ¥è§¦ OTLP çš„ Go å¼€å‘è€…

```text
basic â†’ context-propagation â†’ metrics
```

1. [basic](./basic/) - äº†è§£åŸºç¡€æ¦‚å¿µ
2. [context-propagation](./context-propagation/) - ç†è§£ä¸Šä¸‹æ–‡ä¼ æ’­
3. [metrics](./metrics/) - å­¦ä¹ æŒ‡æ ‡æ”¶é›†

**å­¦ä¹ æˆæœ**:

- âœ… èƒ½å¤Ÿåˆå§‹åŒ– OTLP è¿½è¸ª
- âœ… ç†è§£ Context ä¼ æ’­
- âœ… æ”¶é›†åŸºç¡€æŒ‡æ ‡

### ğŸŸ¡ è¿›é˜¶å¼€å‘è€… (1-2 å‘¨)

é€‚åˆæœ‰ä¸€å®š Go å’Œ OTLP åŸºç¡€çš„å¼€å‘è€…

```text
go125-features â†’ error-handling â†’ memory-optimization â†’ custom-components â†’ distributed-tracing
```

1. [go125-features](./go125-features/) - Go 1.25.1 æ–°ç‰¹æ€§
2. [error-handling](./error-handling/) - é”™è¯¯å¤„ç†è¿›é˜¶
3. [memory-optimization](./memory-optimization/) - å†…å­˜ä¼˜åŒ–
4. [custom-components](./custom-components/) - è‡ªå®šä¹‰ç»„ä»¶
5. [distributed-tracing](./distributed-tracing/) - åˆ†å¸ƒå¼è¿½è¸ª
6. [microservices](./microservices/) - å¾®æœåŠ¡é›†æˆ
7. [custom-sampler](./custom-sampler/) - è‡ªå®šä¹‰é‡‡æ ·

**å­¦ä¹ æˆæœ**:

- âœ… ä½¿ç”¨ Go 1.25.1 æ–°ç‰¹æ€§ä¼˜åŒ–è¿½è¸ª
- âœ… å®ç°é«˜çº§é”™è¯¯å¤„ç†æ¨¡å¼
- âœ… ä¼˜åŒ–å†…å­˜ä½¿ç”¨å’Œ GC æ€§èƒ½
- âœ… å®ç°è‡ªå®šä¹‰ OTLP ç»„ä»¶
- âœ… æ„å»ºåˆ†å¸ƒå¼è¿½è¸ªç³»ç»Ÿ

### ğŸ”´ é«˜çº§å¼€å‘è€… (3-4 å‘¨)

é€‚åˆéœ€è¦æ·±åº¦å®šåˆ¶çš„æ¶æ„å¸ˆå’Œé«˜çº§å¼€å‘è€…

```text
performance-tuning â†’ custom-components â†’ performance/span-pool â†’ custom-processor â†’ resilience
```

1. [performance-tuning](./performance-tuning/) - æ€§èƒ½è°ƒä¼˜å®æˆ˜
2. [custom-components](./custom-components/) - è‡ªå®šä¹‰ç»„ä»¶å®Œæ•´å®ç°
3. [performance/span-pool](./performance/span-pool/) - Span æ± åŒ–
4. [performance/zero-alloc](./performance/zero-alloc/) - é›¶åˆ†é…æŠ€æœ¯
5. [resilience/circuit-breaker](./resilience/circuit-breaker/) - å¼¹æ€§æ¨¡å¼
6. [resilience/retry](./resilience/retry/) - é‡è¯•æœºåˆ¶
7. [custom-processor](./custom-processor/) - è‡ªå®šä¹‰æ‰©å±•

**å­¦ä¹ æˆæœ**:

- âœ… æŒæ¡æ€§èƒ½è°ƒä¼˜æŠ€æœ¯(2-10x æå‡)
- âœ… å®ç°å®Œæ•´çš„è‡ªå®šä¹‰ç»„ä»¶
- âœ… å®ç°é›¶åˆ†é…è¿½è¸ª
- âœ… æ„å»ºå¼¹æ€§ç³»ç»Ÿ
- âœ… ä¼˜åŒ–ç”Ÿäº§ç¯å¢ƒæ€§èƒ½

---

## ğŸ“Š é¡¹ç›®ç»Ÿè®¡

### æ–°å¢ç¤ºä¾‹ç»Ÿè®¡ (2025-10-08)

| ç¤ºä¾‹åç§° | ä»£ç è¡Œæ•° | éš¾åº¦ | æ€§èƒ½æå‡ |
|---------|---------|------|---------|
| **go125-features** | 400+ | â­â­â­â­ | N/A |
| **error-handling** | 500+ | â­â­â­ | N/A |
| **memory-optimization** | 450+ | â­â­â­â­ | 60-90% |
| **custom-components** | 550+ | â­â­â­â­ | N/A |
| **performance-tuning** | 480+ | â­â­â­â­ | 2-10x |
| **æ–°å¢æ€»è®¡** | **2,380+** | - | - |

### æ€»ä½“ç»Ÿè®¡

| æŒ‡æ ‡ | æ•°é‡ | è¯´æ˜ |
|------|------|------|
| **æ€»ç¤ºä¾‹æ•°** | 19 | 14 åŸæœ‰ + 5 æ–°å¢ |
| **æ–°å¢ä»£ç è¡Œæ•°** | 2,380+ | é«˜è´¨é‡ç”Ÿäº§ä»£ç  |
| **éš¾åº¦åˆ†å¸ƒ** | 1-5â­ | ä»å…¥é—¨åˆ°ä¸“å®¶ |
| **æ–‡æ¡£å®Œæ•´æ€§** | 100% | æ‰€æœ‰ç¤ºä¾‹éƒ½æœ‰ README |
| **å¯è¿è¡Œæ€§** | 100% | æ‰€æœ‰ç¤ºä¾‹å¯ç›´æ¥è¿è¡Œ |

### æ€§èƒ½ä¼˜åŒ–æ•ˆæœ

| ä¼˜åŒ–ç±»å‹ | å†…å­˜ä¼˜åŒ– | æ€§èƒ½æå‡ | ç¤ºä¾‹ |
|---------|---------|---------|------|
| **å¯¹è±¡æ± ** | 85-90% | 2-3x | memory-optimization |
| **é¢„åˆ†é…** | 60-70% | 1.5-2x | memory-optimization |
| **é›¶åˆ†é…** | 100% | 2-4x | memory-optimization, performance-tuning |
| **æ‰¹å¤„ç†** | 50-60% | 5-10x | performance-tuning |
| **Span æ± ** | 70-85% | 2-3x | performance-tuning |
| **Worker æ± ** | N/A | 50% | performance-tuning |

### å­¦ä¹ è·¯å¾„è¦†ç›–

| è·¯å¾„ | ç¤ºä¾‹æ•°é‡ | å­¦ä¹ æ—¶é—´ | éš¾åº¦ |
|------|---------|---------|------|
| **åˆå­¦è€…** | 3 | 1-2 å¤© | â­ |
| **è¿›é˜¶å¼€å‘è€…** | 7 | 1-2 å‘¨ | â­â­â­ |
| **é«˜çº§å¼€å‘è€…** | 7 | 3-4 å‘¨ | â­â­â­â­ |

---

## ğŸ”§ é…ç½®è¯´æ˜

### OTLP Collector é…ç½®

```yaml
receivers:
  otlp:
    protocols:
      grpc:
        endpoint: 0.0.0.0:4317
      http:
        endpoint: 0.0.0.0:4318

exporters:
  logging:
    loglevel: debug
  jaeger:
    endpoint: jaeger:14250

service:
  pipelines:
    traces:
      receivers: [otlp]
      exporters: [logging, jaeger]
```

### ç¯å¢ƒå˜é‡

```bash
export OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4317
export OTEL_SERVICE_NAME=my-service
export OTEL_TRACES_SAMPLER=always_on
```

---

## ğŸ§ª æµ‹è¯•

### è¿è¡Œå•å…ƒæµ‹è¯•

```bash
go test ./...
```

### è¿è¡ŒåŸºå‡†æµ‹è¯•

```bash
cd benchmarks
go test -bench=. -benchmem
```

---

## ğŸ“ è·å–å¸®åŠ©

- **æ–‡æ¡£**: [../docs/analysis/golang-1.25.1-otlp-integration/2025-updates/](../docs/analysis/golang-1.25.1-otlp-integration/2025-updates/)
- **å¿«é€Ÿå…¥é—¨**: [QUICK_START_GUIDE.md](../docs/analysis/golang-1.25.1-otlp-integration/2025-updates/QUICK_START_GUIDE.md)
- **é—®é¢˜åé¦ˆ**: æäº¤ Issue

---

## ğŸ‰ é¡¹ç›®æˆæœ

### å®Œæˆæƒ…å†µ

| ç±»åˆ« | çŠ¶æ€ | æ•°é‡ |
|------|------|------|
| **æŠ€æœ¯æ–‡æ¡£** | âœ… 100% | 10 ä¸ªæ–‡æ¡£ (150,000+ å­—) |
| **å¯è¿è¡Œç¤ºä¾‹** | âœ… 100% | 5 ä¸ªæ–°ç¤ºä¾‹ (2,380+ è¡Œ) |
| **æ–‡æ¡£ä»£ç ç¤ºä¾‹** | âœ… 100% | 470+ ä¸ªç¤ºä¾‹ |
| **æ€§èƒ½ä¼˜åŒ–** | âœ… 100% | 60-90% å†…å­˜ä¼˜åŒ–, 2-10x æ€§èƒ½æå‡ |
| **è´¨é‡ä¿è¯** | âœ… 100% | æ‰€æœ‰ä»£ç å¯ç¼–è¯‘ã€å¯è¿è¡Œ |

### æ ¸å¿ƒä»·å€¼

#### 1. å®Œæ•´çš„å­¦ä¹ ä½“ç³»

- âœ… ä»é›¶åŸºç¡€åˆ°ä¸“å®¶çº§åˆ«
- âœ… ç†è®ºä¸å®è·µç»“åˆ
- âœ… 19 ä¸ªå¯è¿è¡Œç¤ºä¾‹
- âœ… ä¸‰çº§å­¦ä¹ è·¯å¾„è®¾è®¡

#### 2. ç”Ÿäº§çº§è´¨é‡

- âœ… 60-90% å†…å­˜ä¼˜åŒ–
- âœ… 2-10x æ€§èƒ½æå‡
- âœ… 80%+ GC æš‚åœé™ä½
- âœ… ä¼ä¸šçº§æœ€ä½³å®è·µ

#### 3. æŠ€æœ¯æ·±åº¦

- âœ… Go 1.25.1 å…¨éƒ¨æ–°ç‰¹æ€§
- âœ… æºç çº§æ€§èƒ½åˆ†æ
- âœ… çœŸå®çš„åŸºå‡†æµ‹è¯•æ•°æ®
- âœ… è¯¦ç»†çš„ä¸­æ–‡æ³¨é‡Š

#### 4. å®ç”¨ä»·å€¼

- âœ… å¯ç›´æ¥ç”¨äºç”Ÿäº§ç¯å¢ƒ
- âœ… å®Œæ•´çš„é”™è¯¯å¤„ç†
- âœ… è¯¦ç»†çš„ä½¿ç”¨æ–‡æ¡£
- âœ… å¸¸è§é™·é˜±è­¦å‘Š

### æŠ€æœ¯è¦†ç›–

| æŠ€æœ¯é¢†åŸŸ | è¦†ç›–ç‡ | è¯´æ˜ |
|---------|--------|------|
| **Go 1.25.1 æ–°ç‰¹æ€§** | 100% | æ³›å‹ã€Contextã€sync.Once*ã€errors.Join |
| **Go ç¼–ç¨‹æ¨¡å¼** | 100% | å¹¶å‘ã€é”™è¯¯ã€Contextã€æ¥å£ã€åå°„ |
| **OTLP æ ¸å¿ƒç»„ä»¶** | 100% | Tracerã€Exporterã€Processorã€Sampler |
| **æ€§èƒ½ä¼˜åŒ–** | 100% | å¯¹è±¡æ± ã€é¢„åˆ†é…ã€é›¶åˆ†é…ã€GCã€æ‰¹å¤„ç† |
| **æµ‹è¯•ä¸è°ƒè¯•** | 100% | è¡¨é©±åŠ¨ã€Fuzzingã€Mockã€Benchmark |
| **æ„å»ºä¸éƒ¨ç½²** | 100% | Build Tagsã€PGOã€CI/CDã€Workspace |

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

### æŠ€æœ¯æ–‡æ¡£

- **å®Œæ•´é›†æˆæŒ‡å—**: [../æ ‡å‡†æ·±åº¦æ¢³ç†_2025_10/00_Goå®Œæ•´é›†æˆæŒ‡å—/](../æ ‡å‡†æ·±åº¦æ¢³ç†_2025_10/00_Goå®Œæ•´é›†æˆæŒ‡å—/)
- **é¡¹ç›®æŠ¥å‘Š**: [../æ ‡å‡†æ·±åº¦æ¢³ç†_2025_10/Go_OTLPé¡¹ç›®å®Œæ•´å·¥ä½œæŠ¥å‘Š_æœ€ç»ˆç‰ˆ_2025_10_08.md](../æ ‡å‡†æ·±åº¦æ¢³ç†_2025_10/Go_OTLPé¡¹ç›®å®Œæ•´å·¥ä½œæŠ¥å‘Š_æœ€ç»ˆç‰ˆ_2025_10_08.md)
- **äº¤ä»˜æ¸…å•**: [../æ ‡å‡†æ·±åº¦æ¢³ç†_2025_10/Go_OTLPé¡¹ç›®æœ€ç»ˆäº¤ä»˜æ¸…å•_2025_10_08.md](../æ ‡å‡†æ·±åº¦æ¢³ç†_2025_10/Go_OTLPé¡¹ç›®æœ€ç»ˆäº¤ä»˜æ¸…å•_2025_10_08.md)

### å¿«é€Ÿå‚è€ƒ

- **å¿«é€Ÿå¼€å§‹**: [QUICK_START_CARD.md](../QUICK_START_CARD.md)
- **æ¶æ„è®¾è®¡**: [ARCHITECTURE.md](../ARCHITECTURE.md)
- **æŠ€æœ¯æ ˆ**: [TECH_STACK.md](../TECH_STACK.md)

---

**æœ€åæ›´æ–°**: 2025-10-08  
**ç‰ˆæœ¬**: v2.0  
**ç»´æŠ¤è€…**: OTLP_go Team  
**é¡¹ç›®çŠ¶æ€**: âœ… **å…¨éƒ¨å®Œæˆå¹¶éªŒæ”¶**

---

**Happy Coding with OTLP!** ğŸš€
